# 待改进
## 1.用户状态的保存，当前采用的是sessionStorage，标签页关闭清除
```js
// 利用localStorage来存储带有过期时间的项
function setItemWithExpiry(key, value, expiry) {
  const item = {
    value: value,
    expiry: expiry
  };
  localStorage.setItem(key, JSON.stringify(item));
}

function getItemWithExpiry(key) {
  const itemStr = localStorage.getItem(key);
  if (!itemStr) return null;
  const item = JSON.parse(itemStr);
  const currentTime = new Date().getTime();
  if (currentTime > item.expiry) {
    localStorage.removeItem(key);
    return null;
  }
  return item.value;
}

// 设置一个带有过期时间的项
const now = new Date().getTime();
setItemWithExpiry('myKey', 'myValue', now + 3600000); // 1 小时后过期

// 获取一个带有过期时间的项
const value = getItemWithExpiry('myKey');
```
## 2.控制未登录用户跳转登录页面

> 可暂时采用Header组件的onBeforeMount()设置读取当前用户，若为空则router.push('/login')转到登录页面
>
> 安全性较低，而且浪费流量，没用到的组件也会被请求获取